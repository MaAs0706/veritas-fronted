<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Veritas | AI-Powered Fake News Detection</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Exo+2:wght@300;400;500;600&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Cursor Trail Elements -->
    <div class="cursor-trail"></div>
    
    <!-- Animated Background -->
    <div class="bg-animation">
        <div class="bg-circle bg-circle-1"></div>
        <div class="bg-circle bg-circle-2"></div>
        <div class="bg-circle bg-circle-3"></div>
        <div class="bg-grid"></div>
        
        <!-- Floating Particles -->
        <div class="particles-container"></div>
        
        <!-- Energy Orbs -->
        <div class="energy-orbs"></div>
    </div>

    <!-- Header / Navigation -->
    <header class="header">
        <div class="container">
            <nav class="navbar">
                <div class="logo">
                    <i class="fas fa-shield-alt"></i>
                    <span class="logo-text">VERITAS</span>
                    <span class="logo-sub">AI</span>
                </div>
                <div class="nav-links">
                    <a href="index.html" class="nav-link active">Detector</a>
                    <a href="how-it-works.html" class="nav-link">How It Works</a>
                    <a href="about.html" class="nav-link">About</a>
                    <a href="#" class="nav-link">API</a>
                    <button class="btn btn-outline">
                        <i class="fas fa-user-circle"></i> Sign In
                    </button>
                </div>
                <div class="mobile-menu-btn">
                    <i class="fas fa-bars"></i>
                </div>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- Hero Section -->
            <section class="hero" data-scroll>
                <div class="hero-content">
                    <div class="tagline">
                        <span class="tagline-chip" data-scroll-scale>AI-POWERED</span>
                        <h1 class="hero-title" data-scroll-blur>Fake News Detection System</h1>
                        <p class="hero-subtitle" data-scroll-right>
                            Advanced NLP analysis to identify misinformation with explainable AI insights.
                            Powered by fine-tuned transformer models.
                        </p>
                    </div>
                    <div class="hero-stats" data-scroll-stagger>
                        <div class="stat-card" data-scroll-scale>
                            <div class="stat-value">98.7%</div>
                            <div class="stat-label">Accuracy</div>
                        </div>
                        <div class="stat-card" data-scroll-scale>
                            <div class="stat-value">2.3M</div>
                            <div class="stat-label">Articles Analyzed</div>
                        </div>
                        <div class="stat-card" data-scroll-scale>
                            <div class="stat-value">0.4s</div>
                            <div class="stat-label">Avg. Response</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Detection Interface -->
            <section class="detection-interface" data-scroll>
                <div class="interface-container" data-scroll-scale>
                    <div class="interface-header" data-scroll-stagger>
                        <h2 data-scroll-left><i class="fas fa-search"></i> News Authenticity Analyzer</h2>
                        <div class="mode-switcher" data-scroll-right>
                            <button class="mode-btn active" data-mode="text">
                                <i class="fas fa-font"></i> Text Analysis
                            </button>
                            <button class="mode-btn" data-mode="url">
                                <i class="fas fa-link"></i> URL Analysis
                            </button>
                        </div>
                    </div>

                    <div class="input-area active" id="text-input" data-scroll-blur>
                        <div class="input-header" data-scroll-stagger>
                            <h3 data-scroll-left><i class="fas fa-newspaper"></i> Enter News Content</h3>
                            <div class="input-actions" data-scroll-right>
                                <button class="action-btn" id="sample-btn">
                                    <i class="fas fa-vial"></i> Load Sample
                                </button>
                                <button class="action-btn" id="clear-btn">
                                    <i class="fas fa-eraser"></i> Clear
                                </button>
                            </div>
                        </div>
                        <div class="text-input-container" data-scroll-scale>
                            <textarea 
                                id="news-text" 
                                class="news-textarea" 
                                placeholder="Paste news article text here for analysis... (Minimum 50 characters for accurate detection)"
                                rows="8"
                            ></textarea>
                            <div class="char-count">
                                <span id="char-counter">0</span> characters
                            </div>
                        </div>
                    </div>

                    <div class="input-area" id="url-input" data-scroll-blur>
                        <div class="input-header" data-scroll-left>
                            <h3><i class="fas fa-globe"></i> Enter Article URL</h3>
                        </div>
                        <div class="url-input-container" data-scroll-scale>
                            <div class="url-input-group" data-scroll-stagger>
                                <i class="fas fa-link url-icon"></i>
                                <input 
                                    type="url" 
                                    id="news-url" 
                                    class="url-input" 
                                    placeholder="https://example.com/news-article"
                                >
                                <button class="btn btn-primary" id="fetch-btn">
                                    <i class="fas fa-cloud-download-alt"></i> Fetch & Analyze
                                </button>
                            </div>
                            <p class="url-note" data-scroll-right>
                                Supports most news websites. The system will extract and analyze the main article content.
                            </p>
                        </div>
                    </div>

                    <div class="analysis-controls" data-scroll-stagger>
                        <div class="model-selector" data-scroll-left>
                            <label for="model-select"><i class="fas fa-brain"></i> Analysis Model:</label>
                            <select id="model-select" class="model-select">
                                <option value="roberta">RoBERTa (Recommended)</option>
                                <option value="bert">BERT Base</option>
                                <option value="distilbert">DistilBERT (Fast)</option>
                                <option value="ensemble">Ensemble (All Models)</option>
                            </select>
                        </div>
                        <button class="btn btn-primary btn-lg btn-analyze" id="analyze-btn" data-scroll-right>
                            <i class="fas fa-play-circle"></i> Analyze Authenticity
                            <span class="pulse-dot"></span>
                        </button>
                    </div>
                </div>
            </section>

            <!-- Results Section -->
            <section class="results-section" data-scroll>
                <div class="results-container" data-scroll-scale>
                    <div class="results-header" data-scroll-stagger>
                        <h2 data-scroll-left><i class="fas fa-chart-bar"></i> Analysis Results</h2>
                        <div class="results-status" id="results-status" data-scroll-right>
                            <i class="fas fa-hourglass-half"></i> Ready for analysis
                        </div>
                    </div>

                    <!-- Results placeholder -->
                    <div class="results-placeholder" id="results-placeholder" data-scroll-rotate>
                        <div class="placeholder-icon">
                            <i class="fas fa-search"></i>
                        </div>
                        <h3>Analysis Results Will Appear Here</h3>
                        <p>Submit a news article or URL to see detailed authenticity analysis, confidence scores, and explainable AI insights.</p>
                    </div>

                    <!-- Results template (hidden by default) -->
                    <div class="results-content hidden" id="results-content">
                        <div class="confidence-display" data-scroll-stagger>
                            <div class="confidence-score" data-scroll-scale>
                                <div class="score-circle">
                                    <svg class="score-progress" viewBox="0 0 36 36">
                                        <path class="score-circle-bg" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"></path>
                                        <path class="score-circle-fill" stroke-dasharray="85, 100" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"></path>
                                    </svg>
                                    <div class="score-value">
                                        <span class="score-number">85</span>
                                        <span class="score-percent">%</span>
                                    </div>
                                </div>
                                <div class="score-label" data-scroll-right>
                                    <h3>Confidence Score</h3>
                                    <p class="score-verdict">LIKELY REAL</p>
                                </div>
                            </div>
                            <div class="verdict-card" data-scroll-scale>
                                <div class="verdict-icon">
                                    <i class="fas fa-check-circle"></i>
                                </div>
                                <div class="verdict-details">
                                    <h3>Verdict: <span class="verdict-text">REAL</span></h3>
                                    <p class="verdict-description">This content shows strong indicators of credibility with minimal misinformation signals.</p>
                                </div>
                            </div>
                        </div>

                        <div class="explainability-section" data-scroll>
                            <h3 data-scroll-rotate><i class="fas fa-code-branch"></i> Explainability Insights</h3>
                            <div class="insights-container" data-scroll-stagger>
                                <div class="insight positive" data-scroll-left>
                                    <div class="insight-header">
                                        <i class="fas fa-plus-circle"></i>
                                        <span>Credibility Indicators</span>
                                    </div>
                                    <div class="insight-tags">
                                        <span class="insight-tag">Verified Sources</span>
                                        <span class="insight-tag">Neutral Language</span>
                                        <span class="insight-tag">Factual Claims</span>
                                        <span class="insight-tag">Author Credentials</span>
                                    </div>
                                </div>
                                <div class="insight negative" data-scroll-right>
                                    <div class="insight-header">
                                        <i class="fas fa-minus-circle"></i>
                                        <span>Warning Signals</span>
                                    </div>
                                    <div class="insight-tags">
                                        <span class="insight-tag">Emotional Language</span>
                                        <span class="insight-tag">Unverified Claims</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="highlighted-text" data-scroll-blur>
                                <h4 data-scroll-left>Key Phrases Analysis</h4>
                                <div class="text-highlights">
                                    <p>
                                        The <span class="highlight credible">government announced</span> new measures to address climate change based on 
                                        <span class="highlight credible">scientific consensus</span>. However, some critics argue the policies 
                                        <span class="highlight misleading">don't go far enough</span> and claim the administration is 
                                        <span class="highlight biased">influenced by corporate interests</span>.
                                    </p>
                                </div>
                                <div class="highlight-legend" data-scroll-stagger>
                                    <div class="legend-item" data-scroll-scale>
                                        <span class="legend-color credible"></span>
                                        <span>Credible Language</span>
                                    </div>
                                    <div class="legend-item" data-scroll-scale>
                                        <span class="legend-color misleading"></span>
                                        <span>Potentially Misleading</span>
                                    </div>
                                    <div class="legend-item" data-scroll-scale>
                                        <span class="legend-color biased"></span>
                                        <span>Biased Language</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="model-details" data-scroll>
                            <h3 data-scroll-rotate><i class="fas fa-microchip"></i> Model Analysis Details</h3>
                            <div class="model-cards" data-scroll-stagger>
                                <div class="model-card" data-scroll-scale>
                                    <div class="model-card-header">
                                        <i class="fas fa-robot"></i>
                                        <h4>RoBERTa Model</h4>
                                    </div>
                                    <div class="model-card-body">
                                        <div class="model-prediction">
                                            <span class="prediction-label">Prediction:</span>
                                            <span class="prediction-value real">Real (87%)</span>
                                        </div>
                                        <div class="model-prediction">
                                            <span class="prediction-label">Confidence:</span>
                                            <span class="prediction-value">High</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="model-card" data-scroll-scale>
                                    <div class="model-card-header">
                                        <i class="fas fa-bolt"></i>
                                        <h4>BERT Model</h4>
                                    </div>
                                    <div class="model-card-body">
                                        <div class="model-prediction">
                                            <span class="prediction-label">Prediction:</span>
                                            <span class="prediction-value real">Real (82%)</span>
                                        </div>
                                        <div class="model-prediction">
                                            <span class="prediction-label">Confidence:</span>
                                            <span class="prediction-value">Medium</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="model-card" data-scroll-scale>
                                    <div class="model-card-header">
                                        <i class="fas fa-tachometer-alt"></i>
                                        <h4>Ensemble Result</h4>
                                    </div>
                                    <div class="model-card-body">
                                        <div class="model-prediction">
                                            <span class="prediction-label">Final Verdict:</span>
                                            <span class="prediction-value real">Real (85%)</span>
                                        </div>
                                        <div class="model-prediction">
                                            <span class="prediction-label">Agreement:</span>
                                            <span class="prediction-value">Full</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="results-actions" data-scroll-stagger>
                            <button class="btn btn-outline" data-scroll-left>
                                <i class="fas fa-download"></i> Export Report
                            </button>
                            <button class="btn btn-primary" id="new-analysis-btn" data-scroll-right>
                                <i class="fas fa-redo"></i> New Analysis
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Recent Searches -->
            <section class="recent-searches" data-scroll>
                <div class="recent-container" data-scroll-scale>
                    <h2 data-scroll-left><i class="fas fa-history"></i> Recent Analyses</h2>
                    <div class="recent-list" data-scroll-stagger>
                        <div class="recent-item" data-scroll-scale>
                            <div class="recent-item-header">
                                <span class="recent-title">Climate Policy Announcement</span>
                                <span class="recent-date">Today, 14:32</span>
                            </div>
                            <div class="recent-item-details">
                                <span class="recent-verdict real">Real (85%)</span>
                                <span class="recent-model">RoBERTa</span>
                            </div>
                        </div>
                        <div class="recent-item" data-scroll-scale>
                            <div class="recent-item-header">
                                <span class="recent-title">Celebrity Health Scare Report</span>
                                <span class="recent-date">Yesterday, 09:15</span>
                            </div>
                            <div class="recent-item-details">
                                <span class="recent-verdict fake">Fake (92%)</span>
                                <span class="recent-model">Ensemble</span>
                            </div>
                        </div>
                        <div class="recent-item" data-scroll-scale>
                            <div class="recent-item-header">
                                <span class="recent-title">Stock Market Prediction</span>
                                <span class="recent-date">Dec 22, 2025</span>
                            </div>
                            <div class="recent-item-details">
                                <span class="recent-verdict misleading">Misleading (67%)</span>
                                <span class="recent-model">BERT</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- References / Data Sources -->
            <section class="references" data-scroll>
                <div class="references-container" data-scroll-scale>
                    <h2 data-scroll-left><i class="fas fa-database"></i> Training Data & References</h2>
                    <div class="datasets-grid" data-scroll-stagger>
                        <div class="dataset-card" data-scroll-scale>
                            <div class="dataset-icon">
                                <i class="fas fa-file-alt"></i>
                            </div>
                            <h4>LIAR Dataset</h4>
                            <p>12.8K labeled short statements for fake news detection</p>
                        </div>
                        <div class="dataset-card" data-scroll-scale>
                            <div class="dataset-icon">
                                <i class="fas fa-network-wired"></i>
                            </div>
                            <h4>FakeNewsNet</h4>
                            <p>Comprehensive dataset with content, social context & spatiotemporal information</p>
                        </div>
                        <div class="dataset-card" data-scroll-scale>
                            <div class="dataset-icon">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <h4>Kaggle Dataset</h4>
                            <p>Large collection of news articles labeled as real or fake</p>
                        </div>
                        <div class="dataset-card" data-scroll-scale>
                            <div class="dataset-icon">
                                <i class="fas fa-code"></i>
                            </div>
                            <h4>Custom Fine-tuning</h4>
                            <p>Proprietary datasets for enhanced contextual understanding</p>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer" data-scroll>
        <div class="container">
            <div class="footer-content" data-scroll-stagger>
                <div class="footer-brand" data-scroll-left>
                    <div class="logo">
                        <i class="fas fa-shield-alt"></i>
                        <span class="logo-text">VERITAS</span>
                    </div>
                    <p class="footer-tagline">Advanced AI for Truth Verification</p>
                    <div class="footer-social">
                        <a href="#" class="social-link" data-scroll-scale><i class="fab fa-github"></i></a>
                        <a href="#" class="social-link" data-scroll-scale><i class="fab fa-twitter"></i></a>
                        <a href="#" class="social-link" data-scroll-scale><i class="fab fa-linkedin"></i></a>
                        <a href="#" class="social-link" data-scroll-scale><i class="fas fa-paper-plane"></i></a>
                    </div>
                </div>
                <div class="footer-links" data-scroll-right>
                    <div class="footer-column" data-scroll-scale>
                        <h4>Product</h4>
                        <a href="index.html">Detector</a>
                        <a href="how-it-works.html">How It Works</a>
                        <a href="#">Browser Extension</a>
                        <a href="#">API</a>
                    </div>
                    <div class="footer-column" data-scroll-scale>
                        <h4>Resources</h4>
                        <a href="#">Documentation</a>
                        <a href="#">Research Papers</a>
                        <a href="#">Blog</a>
                        <a href="#">Help Center</a>
                    </div>
                    <div class="footer-column" data-scroll-scale>
                        <h4>Company</h4>
                        <a href="about.html">About Us</a>
                        <a href="#">Careers</a>
                        <a href="#">Contact</a>
                        <a href="#">Privacy Policy</a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom" data-scroll-blur>
                <p>Â© 2025 Veritas AI. All rights reserved. This is a demonstration interface for a fake news detection system.</p>
                <div class="tech-badges" data-scroll-stagger>
                    <span class="tech-badge" data-scroll-scale><i class="fab fa-python"></i> Transformers</span>
                    <span class="tech-badge" data-scroll-scale><i class="fas fa-brain"></i> BERT/RoBERTa</span>
                    <span class="tech-badge" data-scroll-scale><i class="fas fa-chart-network"></i> NLP</span>
                </div>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script src="script.js"></script>
    
    <!-- Enhanced Background and Cursor Effects Script -->
    <script>
        class EnhancedBackgroundEffects {
            constructor() {
                this.cursorTrail = [];
                this.particles = [];
                this.energyOrbs = [];
                this.mouseX = 0;
                this.mouseY = 0;
                this.lastMouseX = 0;
                this.lastMouseY = 0;
                this.mouseVelocity = 0;
                this.animationId = null;
                this.trailLength = 15;
                this.init();
            }

            init() {
                this.createParticles();
                this.createEnergyOrbs();
                this.setupEventListeners();
                this.animate();
            }

            createParticles() {
                const container = document.querySelector('.particles-container');
                if (!container) return;

                for (let i = 0; i < 50; i++) {
                    const particle = document.createElement('div');
                    particle.className = 'particle';
                    
                    // Random properties
                    const size = Math.random() * 3 + 1;
                    const posX = Math.random() * 100;
                    const posY = Math.random() * 100;
                    const duration = Math.random() * 20 + 10;
                    const delay = Math.random() * 5;
                    const color = this.getRandomColor();
                    
                    particle.style.cssText = `
                        width: ${size}px;
                        height: ${size}px;
                        background: ${color};
                        left: ${posX}%;
                        top: ${posY}%;
                        animation-duration: ${duration}s;
                        animation-delay: ${delay}s;
                    `;
                    
                    container.appendChild(particle);
                    this.particles.push(particle);
                }
            }

            createEnergyOrbs() {
                const container = document.querySelector('.energy-orbs');
                if (!container) return;

                for (let i = 0; i < 8; i++) {
                    const orb = document.createElement('div');
                    orb.className = 'energy-orb';
                    
                    const size = Math.random() * 100 + 50;
                    const posX = Math.random() * 100;
                    const posY = Math.random() * 100;
                    const duration = Math.random() * 20 + 20;
                    const color = this.getRandomEnergyColor();
                    
                    orb.style.cssText = `
                        width: ${size}px;
                        height: ${size}px;
                        background: radial-gradient(circle, ${color}, transparent 70%);
                        left: ${posX}%;
                        top: ${posY}%;
                        animation-duration: ${duration}s;
                        animation-delay: ${Math.random() * 10}s;
                    `;
                    
                    container.appendChild(orb);
                    this.energyOrbs.push(orb);
                }
            }

            getRandomColor() {
                const colors = [
                    'rgba(99, 102, 241, 0.6)',
                    'rgba(16, 185, 129, 0.6)',
                    'rgba(245, 158, 11, 0.6)',
                    'rgba(239, 68, 68, 0.6)',
                    'rgba(139, 92, 246, 0.6)'
                ];
                return colors[Math.floor(Math.random() * colors.length)];
            }

            getRandomEnergyColor() {
                const colors = [
                    'rgba(99, 102, 241, 0.2)',
                    'rgba(16, 185, 129, 0.2)',
                    'rgba(245, 158, 11, 0.2)',
                    'rgba(236, 72, 153, 0.2)'
                ];
                return colors[Math.floor(Math.random() * colors.length)];
            }

            setupEventListeners() {
                document.addEventListener('mousemove', (e) => {
                    this.mouseX = e.clientX;
                    this.mouseY = e.clientY;
                    
                    // Calculate mouse velocity
                    const deltaX = this.mouseX - this.lastMouseX;
                    const deltaY = this.mouseY - this.lastMouseY;
                    this.mouseVelocity = Math.sqrt(deltaX * deltaX + deltaY * deltaY);
                    
                    this.lastMouseX = this.mouseX;
                    this.lastMouseY = this.mouseY;
                    
                    this.createCursorTrail();
                });

                // Create initial trail
                for (let i = 0; i < this.trailLength; i++) {
                    this.createTrailElement();
                }
            }

            createTrailElement() {
                const trail = document.createElement('div');
                trail.className = 'trail-dot';
                document.querySelector('.cursor-trail').appendChild(trail);
                this.cursorTrail.push({
                    element: trail,
                    x: this.mouseX,
                    y: this.mouseY,
                    size: 0,
                    opacity: 0,
                    life: 0
                });
            }

            createCursorTrail() {
                // Add new trail dot
                const trailDot = document.createElement('div');
                trailDot.className = 'trail-dot';
                
                // Calculate size based on velocity
                const size = Math.min(20, Math.max(5, this.mouseVelocity * 0.5));
                const intensity = Math.min(1, this.mouseVelocity * 0.02);
                
                trailDot.style.cssText = `
                    left: ${this.mouseX}px;
                    top: ${this.mouseY}px;
                    width: ${size}px;
                    height: ${size}px;
                    background: radial-gradient(circle, 
                        rgba(255, 100, 50, ${intensity}) 0%,
                        rgba(255, 200, 50, ${intensity * 0.7}) 30%,
                        rgba(99, 102, 241, ${intensity * 0.3}) 70%,
                        transparent 100%
                    );
                    box-shadow: 0 0 ${size * 2}px rgba(255, 100, 50, ${intensity}),
                                0 0 ${size * 4}px rgba(255, 200, 50, ${intensity * 0.5});
                    transform: translate(-50%, -50%);
                `;
                
                document.querySelector('.cursor-trail').appendChild(trailDot);
                
                // Remove after animation
                setTimeout(() => {
                    trailDot.style.opacity = '0';
                    trailDot.style.transform = 'translate(-50%, -50%) scale(0)';
                    setTimeout(() => {
                        if (trailDot.parentNode) {
                            trailDot.parentNode.removeChild(trailDot);
                        }
                    }, 500);
                }, 100);
            }

            animate() {
                // Update particles based on mouse movement
                this.particles.forEach(particle => {
                    const rect = particle.getBoundingClientRect();
                    const distanceX = Math.abs(this.mouseX - (rect.left + rect.width / 2));
                    const distanceY = Math.abs(this.mouseY - (rect.top + rect.height / 2));
                    const distance = Math.sqrt(distanceX * distanceX + distanceY * distanceY);
                    
                    if (distance < 200) {
                        const force = (200 - distance) / 200;
                        const moveX = (this.mouseX - (rect.left + rect.width / 2)) * force * 0.02;
                        const moveY = (this.mouseY - (rect.top + rect.height / 2)) * force * 0.02;
                        
                        const currentX = parseFloat(particle.style.left || 0);
                        const currentY = parseFloat(particle.style.top || 0);
                        
                        particle.style.left = `${currentX + moveX}%`;
                        particle.style.top = `${currentY + moveY}%`;
                    }
                });

                // Create occasional sparkles
                if (Math.random() < 0.1) {
                    this.createSparkle();
                }

                this.animationId = requestAnimationFrame(() => this.animate());
            }

            createSparkle() {
                const sparkle = document.createElement('div');
                sparkle.className = 'sparkle';
                
                const posX = Math.random() * 100;
                const posY = Math.random() * 100;
                const size = Math.random() * 10 + 5;
                const duration = Math.random() * 1 + 0.5;
                
                sparkle.style.cssText = `
                    left: ${posX}%;
                    top: ${posY}%;
                    width: ${size}px;
                    height: ${size}px;
                    background: radial-gradient(circle, 
                        rgba(255, 255, 255, 0.9) 0%,
                        rgba(99, 102, 241, 0.6) 50%,
                        transparent 100%
                    );
                    animation-duration: ${duration}s;
                `;
                
                document.querySelector('.bg-animation').appendChild(sparkle);
                
                setTimeout(() => {
                    if (sparkle.parentNode) {
                        sparkle.parentNode.removeChild(sparkle);
                    }
                }, duration * 1000);
            }

            destroy() {
                if (this.animationId) {
                    cancelAnimationFrame(this.animationId);
                }
            }
        }

        // Scroll Animations Class (Updated)
        class ScrollAnimations {
            constructor() {
                this.observer = null;
                this.scrollIndicator = null;
                this.readingProgress = null;
                this.lastScroll = 0;
                this.backgroundEffects = new EnhancedBackgroundEffects();
                this.init();
            }

            init() {
                this.createScrollIndicator();
                this.createReadingProgress();
                this.initIntersectionObserver();
                this.setupScrollEvents();
                this.animateOnLoad();
            }

            createScrollIndicator() {
                this.scrollIndicator = document.createElement('div');
                this.scrollIndicator.className = 'scroll-indicator';
                this.scrollIndicator.innerHTML = '<i class="fas fa-chevron-up"></i>';
                this.scrollIndicator.addEventListener('click', () => {
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                });
                document.body.appendChild(this.scrollIndicator);
            }

            createReadingProgress() {
                this.readingProgress = document.createElement('div');
                this.readingProgress.className = 'reading-progress';
                document.body.appendChild(this.readingProgress);
            }

            initIntersectionObserver() {
                const options = {
                    root: null,
                    rootMargin: '0px',
                    threshold: 0.1
                };

                this.observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('visible');
                            
                            if (entry.target.hasAttribute('data-scroll-stagger')) {
                                const children = entry.target.children;
                                Array.from(children).forEach((child, index) => {
                                    setTimeout(() => {
                                        child.classList.add('visible');
                                    }, index * 100);
                                });
                            }
                        }
                    });
                }, options);

                const animatedElements = document.querySelectorAll(
                    '[data-scroll], [data-scroll-left], [data-scroll-right], ' +
                    '[data-scroll-scale], [data-scroll-rotate], [data-scroll-blur], ' +
                    '[data-scroll-stagger]'
                );

                animatedElements.forEach(el => this.observer.observe(el));
            }

            setupScrollEvents() {
                let ticking = false;
                
                window.addEventListener('scroll', () => {
                    if (!ticking) {
                        window.requestAnimationFrame(() => {
                            this.handleScroll();
                            ticking = false;
                        });
                        ticking = true;
                    }
                });

                window.addEventListener('scroll', () => {
                    const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
                    const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
                    const scrolled = (winScroll / height) * 100;
                    
                    if (this.readingProgress) {
                        this.readingProgress.style.transform = `scaleX(${scrolled / 100})`;
                    }

                    if (this.scrollIndicator) {
                        if (window.scrollY > 500) {
                            this.scrollIndicator.classList.add('visible');
                        } else {
                            this.scrollIndicator.classList.remove('visible');
                        }
                    }
                });
            }

            handleScroll() {
                const currentScroll = window.pageYOffset;
                
                // Header shrink effect
                const header = document.querySelector('.header');
                if (header) {
                    if (currentScroll > 100) {
                        header.style.padding = '10px 0';
                        header.style.backdropFilter = 'blur(20px)';
                        header.style.boxShadow = '0 4px 20px rgba(0, 0, 0, 0.3)';
                    } else {
                        header.style.padding = 'var(--spacing-lg) 0';
                        header.style.backdropFilter = 'blur(10px)';
                        header.style.boxShadow = 'none';
                    }
                }

                // Parallax for hero stats
                const heroStats = document.querySelector('.hero-stats');
                if (heroStats && currentScroll < 500) {
                    const rate = currentScroll * 0.2;
                    heroStats.style.transform = `translateY(${rate}px)`;
                }

                this.lastScroll = currentScroll;
            }

            animateOnLoad() {
                setTimeout(() => {
                    const heroTitle = document.querySelector('.hero-title');
                    const heroSubtitle = document.querySelector('.hero-subtitle');
                    const heroChip = document.querySelector('.tagline-chip');
                    
                    if (heroTitle) heroTitle.style.animation = 'floatTitle 3s ease-in-out infinite';
                    if (heroSubtitle) heroSubtitle.classList.add('visible');
                    if (heroChip) {
                        heroChip.classList.add('visible');
                        heroChip.style.animation = 'pulse 2s infinite';
                    }

                    // Animate pulse dot on analyze button
                    const pulseDot = document.querySelector('.pulse-dot');
                    if (pulseDot) {
                        pulseDot.style.animation = 'pulse 2s infinite';
                    }

                    // Create initial energy burst
                    this.createEnergyBurst();
                }, 500);
            }

            createEnergyBurst() {
                for (let i = 0; i < 20; i++) {
                    setTimeout(() => {
                        const burst = document.createElement('div');
                        burst.className = 'energy-burst';
                        
                        const angle = (i / 20) * Math.PI * 2;
                        const distance = 100 + Math.random() * 200;
                        const size = Math.random() * 30 + 10;
                        const duration = Math.random() * 2 + 1;
                        
                        burst.style.cssText = `
                            left: 50%;
                            top: 50%;
                            width: ${size}px;
                            height: ${size}px;
                            background: radial-gradient(circle, 
                                rgba(99, 102, 241, 0.8) 0%,
                                rgba(16, 185, 129, 0.6) 50%,
                                transparent 100%
                            );
                            animation: energyBurst ${duration}s ease-out forwards;
                            --angle: ${angle}rad;
                            --distance: ${distance}px;
                        `;
                        
                        document.querySelector('.bg-animation').appendChild(burst);
                        
                        setTimeout(() => {
                            if (burst.parentNode) {
                                burst.parentNode.removeChild(burst);
                            }
                        }, duration * 1000);
                    }, i * 50);
                }
            }

            static animateElement(element, animationClass) {
                element.classList.add(animationClass);
                setTimeout(() => {
                    element.classList.remove(animationClass);
                }, 1000);
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            const scrollAnimations = new ScrollAnimations();
            
            // Add hover effects to interactive elements
            const interactiveElements = document.querySelectorAll('.btn, .nav-link, .stat-card, .dataset-card, .model-card, .recent-item');
            interactiveElements.forEach(el => {
                el.addEventListener('mouseenter', () => {
                    ScrollAnimations.animateElement(el, 'pulse');
                    
                    // Create particle burst on hover
                    if (el.classList.contains('btn-primary') || el.classList.contains('stat-card')) {
                        createHoverParticles(el);
                    }
                });
            });

            function createHoverParticles(element) {
                const rect = element.getBoundingClientRect();
                const centerX = rect.left + rect.width / 2;
                const centerY = rect.top + rect.height / 2;
                
                for (let i = 0; i < 10; i++) {
                    const particle = document.createElement('div');
                    particle.className = 'hover-particle';
                    
                    const angle = Math.random() * Math.PI * 2;
                    const distance = Math.random() * 50;
                    const size = Math.random() * 8 + 2;
                    const duration = Math.random() * 1 + 0.5;
                    
                    particle.style.cssText = `
                        left: ${centerX}px;
                        top: ${centerY}px;
                        width: ${size}px;
                        height: ${size}px;
                        background: ${getComputedStyle(element).backgroundColor || 'var(--primary)'};
                        animation: hoverParticle ${duration}s ease-out forwards;
                        --angle: ${angle}rad;
                        --distance: ${distance}px;
                    `;
                    
                    document.body.appendChild(particle);
                    
                    setTimeout(() => {
                        if (particle.parentNode) {
                            particle.parentNode.removeChild(particle);
                        }
                    }, duration * 1000);
                }
            }

            // Add click animation to buttons
            const buttons = document.querySelectorAll('.btn, .action-btn, .mode-btn');
            buttons.forEach(button => {
                button.addEventListener('click', (e) => {
                    ScrollAnimations.animateElement(button, 'click-animation');
                    
                    // Create click ripple effect
                    const ripple = document.createElement('div');
                    ripple.className = 'ripple-effect';
                    
                    const rect = button.getBoundingClientRect();
                    const size = Math.max(rect.width, rect.height);
                    const x = e.clientX - rect.left - size / 2;
                    const y = e.clientY - rect.top - size / 2;
                    
                    ripple.style.cssText = `
                        left: ${x}px;
                        top: ${y}px;
                        width: ${size}px;
                        height: ${size}px;
                    `;
                    
                    button.appendChild(ripple);
                    
                    setTimeout(() => {
                        if (ripple.parentNode) {
                            ripple.parentNode.removeChild(ripple);
                        }
                    }, 1000);
                });
            });

            // Typing animation for textarea
            const textarea = document.getElementById('news-text');
            if (textarea) {
                const placeholder = textarea.getAttribute('placeholder');
                let i = 0;
                
                textarea.addEventListener('focus', () => {
                    if (textarea.value === '') {
                        textarea.setAttribute('placeholder', '');
                        function typeWriter() {
                            if (i < placeholder.length) {
                                textarea.setAttribute('placeholder', placeholder.substring(0, i + 1));
                                i++;
                                setTimeout(typeWriter, 50);
                            }
                        }
                        typeWriter();
                    }
                });

                textarea.addEventListener('blur', () => {
                    i = 0;
                    textarea.setAttribute('placeholder', placeholder);
                });
            }

            // Prevent context menu on trail
            document.querySelector('.cursor-trail').addEventListener('contextmenu', (e) => {
                e.preventDefault();
            });
        });

        // Add CSS for all the new effects
        const effectsStyles = document.createElement('style');
        effectsStyles.textContent = `
            /* Cursor Trail Effects */
            .cursor-trail {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                pointer-events: none;
                z-index: 9998;
                overflow: hidden;
            }
            
            .trail-dot {
                position: absolute;
                border-radius: 50%;
                pointer-events: none;
                z-index: 9999;
                transition: opacity 0.5s, transform 0.5s;
                animation: trailFade 1s ease-out forwards;
            }
            
            @keyframes trailFade {
                0% {
                    opacity: 1;
                    transform: translate(-50%, -50%) scale(1);
                }
                100% {
                    opacity: 0;
                    transform: translate(-50%, -50%) scale(0);
                }
            }
            
            /* Particles */
            .particles-container {
                position: absolute;
                width: 100%;
                height: 100%;
                pointer-events: none;
            }
            
            .particle {
                position: absolute;
                border-radius: 50%;
                pointer-events: none;
                animation: floatParticle linear infinite;
                filter: blur(1px);
            }
            
            @keyframes floatParticle {
                0%, 100% {
                    transform: translate(0, 0) rotate(0deg);
                }
                25% {
                    transform: translate(10px, -10px) rotate(90deg);
                }
                50% {
                    transform: translate(0, -20px) rotate(180deg);
                }
                75% {
                    transform: translate(-10px, -10px) rotate(270deg);
                }
            }
            
            /* Energy Orbs */
            .energy-orbs {
                position: absolute;
                width: 100%;
                height: 100%;
                pointer-events: none;
            }
            
            .energy-orb {
                position: absolute;
                border-radius: 50%;
                pointer-events: none;
                animation: pulseOrb ease-in-out infinite alternate;
                filter: blur(20px);
                opacity: 0.3;
            }
            
            @keyframes pulseOrb {
                0% {
                    transform: scale(1);
                    opacity: 0.2;
                }
                100% {
                    transform: scale(1.5);
                    opacity: 0.4;
                }
            }
            
            /* Sparkles */
            .sparkle {
                position: absolute;
                border-radius: 50%;
                pointer-events: none;
                animation: sparkleTwinkle ease-in-out infinite alternate;
                filter: blur(1px);
            }
            
            @keyframes sparkleTwinkle {
                0% {
                    opacity: 0;
                    transform: scale(0);
                }
                50% {
                    opacity: 1;
                    transform: scale(1);
                }
                100% {
                    opacity: 0;
                    transform: scale(0);
                }
            }
            
            /* Energy Burst */
            .energy-burst {
                position: fixed;
                border-radius: 50%;
                pointer-events: none;
                z-index: 9997;
                transform: translate(-50%, -50%);
                animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
            }
            
            @keyframes energyBurst {
                0% {
                    opacity: 1;
                    transform: translate(-50%, -50%) scale(0) rotate(0deg);
                }
                50% {
                    opacity: 0.8;
                    transform: translate(
                        calc(-50% + cos(var(--angle)) * var(--distance) * 0.5),
                        calc(-50% + sin(var(--angle)) * var(--distance) * 0.5)
                    ) scale(1) rotate(180deg);
                }
                100% {
                    opacity: 0;
                    transform: translate(
                        calc(-50% + cos(var(--angle)) * var(--distance)),
                        calc(-50% + sin(var(--angle)) * var(--distance))
                    ) scale(0) rotate(360deg);
                }
            }
            
            /* Hover Particles */
            .hover-particle {
                position: fixed;
                border-radius: 50%;
                pointer-events: none;
                z-index: 9996;
                animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
            }
            
            @keyframes hoverParticle {
                0% {
                    opacity: 1;
                    transform: translate(0, 0) scale(1);
                }
                100% {
                    opacity: 0;
                    transform: translate(
                        calc(cos(var(--angle)) * var(--distance)),
                        calc(sin(var(--angle)) * var(--distance))
                    ) scale(0);
                }
            }
            
            /* Ripple Effect */
            .ripple-effect {
                position: absolute;
                border-radius: 50%;
                background: rgba(255, 255, 255, 0.6);
                transform: scale(0);
                animation: ripple 1s linear;
                pointer-events: none;
            }
            
            @keyframes ripple {
                to {
                    transform: scale(4);
                    opacity: 0;
                }
            }
            
            /* Enhanced textarea glow */
            .news-textarea:focus {
                animation: textareaGlow 2s infinite alternate;
                border-color: var(--primary);
            }
            
            @keyframes textareaGlow {
                0% {
                    box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2),
                                0 0 0 1px rgba(99, 102, 241, 0.1);
                }
                100% {
                    box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.4),
                                0 0 20px rgba(99, 102, 241, 0.3),
                                0 0 40px rgba(99, 102, 241, 0.1);
                }
            }
            
            /* Fireball intensity based on cursor speed */
            .trail-dot {
                transition: all 0.1s ease-out;
            }
            
            /* Prevent selection on interactive elements */
            .btn, .action-btn, .mode-btn {
                user-select: none;
            }
            
            /* Smooth transitions for all animated elements */
            * {
                transition: background-color 0.3s, border-color 0.3s, box-shadow 0.3s;
            }
            
            /* Performance optimizations */
            .cursor-trail, .particles-container, .energy-orbs {
                will-change: transform, opacity;
                transform: translate3d(0, 0, 0);
            }
            
            /* Mobile optimization */
            @media (max-width: 768px) {
                .cursor-trail, .trail-dot {
                    display: none;
                }
                
                .energy-orbs {
                    opacity: 0.1;
                }
            }
        `;
        document.head.appendChild(effectsStyles);
    </script>
</body>
</html>